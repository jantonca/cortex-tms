---
/**
 * Homepage - Simple Layout
 *
 * Uses SimpleLayout (header - main - footer) without sidebar
 */
import SimpleLayout from '../layouts/SimpleLayout.astro'
import GlassPanel from '../components/GlassPanel.astro'
import GlassButton from '../components/GlassButton.astro'
import GlassQuote from '../components/GlassQuote.astro'
---

<SimpleLayout
  title='Cortex TMS - AI Governance Platform'
  description='Stop wasting tokens. Stop burning GPU cycles on old docs. Reduce AI API costs by up to 10x with Green Governance.'
  lang='en'
  dir='ltr'
>
  {/* Ambient background gradients */}
  <div class='liquid-ambient-bg'></div>

  <div class='homepage-container'>
    {/* Hero Section */}
    <div class='hero-section'>
      <h1 class='hero-title'>Cortex TMS</h1>
      <p class='hero-subtitle'>AI Governance Platform</p>
      <p class='hero-tagline'>
        Stop wasting tokens. Stop burning GPU cycles on old docs.
      </p>
      <p class='hero-description'>
        Reduce AI API costs by <strong>up to 10x</strong> through intelligent context management.
        Cut carbon footprint by <strong>94.5%</strong> with Green Governance.
      </p>
      <div class='hero-actions'>
        <GlassButton
          variant='neon'
          href='/getting-started/introduction/'
        >
          Get Started ‚Üí
        </GlassButton>
        <GlassButton
          variant='prism'
          href='https://github.com/cortex-tms/cortex-tms'
        >
          View on GitHub
        </GlassButton>
      </div>
    </div>

    {/* Three Pillars */}
    <section class='content-section'>
      <h2>Three Pillars, Measurable Results</h2>
      <div class='pillars-grid'>
        <GlassPanel variant='bordered' tilt='full'>
          <div style='padding: 2rem;'>
            <h3 style='margin-bottom: 1rem; color: var(--sl-color-accent);'>
              <span style='font-size: 2rem; margin-right: 0.5rem;'>üí∞</span>
              Cost Efficiency
            </h3>
            <p style='line-height: 1.6; color: var(--sl-color-gray-2); margin-bottom: 1rem;'>
              <strong>Before TMS:</strong> Wasting $0.19/session reading 66,834 tokens of old docs
            </p>
            <p style='line-height: 1.6; color: var(--sl-color-gray-2); margin-bottom: 1rem;'>
              <strong>After TMS:</strong> Paying $0.01/session with 94.5% context reduction
            </p>
            <p style='line-height: 1.6; color: var(--sl-color-accent-high); font-weight: 600;'>
              Impact: 10x cost reduction
            </p>
          </div>
        </GlassPanel>

        <GlassPanel variant='bordered' tilt='full'>
          <div style='padding: 2rem;'>
            <h3 style='margin-bottom: 1rem; color: var(--sl-color-accent);'>
              <span style='font-size: 2rem; margin-right: 0.5rem;'>‚úÖ</span>
              Quality
            </h3>
            <p style='line-height: 1.6; color: var(--sl-color-gray-2); margin-bottom: 1rem;'>
              <strong>Before TMS:</strong> 40% pattern violations from AI reading outdated examples
            </p>
            <p style='line-height: 1.6; color: var(--sl-color-gray-2); margin-bottom: 1rem;'>
              <strong>After TMS:</strong> 80% fewer violations with Guardian semantic validation
            </p>
            <p style='line-height: 1.6; color: var(--sl-color-accent-high); font-weight: 600;'>
              Impact: Zero false negatives
            </p>
          </div>
        </GlassPanel>

        <GlassPanel variant='bordered' tilt='full'>
          <div style='padding: 2rem;'>
            <h3 style='margin-bottom: 1rem; color: var(--sl-color-accent);'>
              <span style='font-size: 2rem; margin-right: 0.5rem;'>üå±</span>
              Sustainability
            </h3>
            <p style='line-height: 1.6; color: var(--sl-color-gray-2); margin-bottom: 1rem;'>
              <strong>Before TMS:</strong> Burning unnecessary GPU cycles on 94.5% noise
            </p>
            <p style='line-height: 1.6; color: var(--sl-color-gray-2); margin-bottom: 1rem;'>
              <strong>After TMS:</strong> 94.5% lower carbon footprint through intelligent tiering
            </p>
            <p style='line-height: 1.6; color: var(--sl-color-accent-high); font-weight: 600;'>
              Impact: Greener development
            </p>
          </div>
        </GlassPanel>
      </div>

      <GlassQuote
        author='Cortex TMS Team'
        liquidBlob={true}
      >
        We dogfood everything. This project uses Cortex TMS to build itself‚Äîour
        NEXT-TASKS.md tracks development, our PATTERNS.md guides AI
        collaboration, and our Guardian CLI reviews every commit.
      </GlassQuote>
    </section>

    {/* Token Savings Proof */}
    <section class='content-section proof-section'>
      <h2>Real Numbers, Real Savings</h2>
      <p style='text-align: center; font-size: 1.125rem; color: var(--sl-color-gray-2); margin-bottom: 2rem;'>
        From Cortex TMS itself (we dogfood everything):
      </p>

      <GlassPanel variant='bordered'>
        <div style='padding: 2rem;'>
          <div style='display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; text-align: center;'>
            <div>
              <div style='font-size: 2.5rem; font-weight: 700; color: var(--sl-color-accent-high); margin-bottom: 0.5rem;'>
                94.5%
              </div>
              <div style='color: var(--sl-color-gray-2);'>
                Context Reduction
              </div>
              <div style='font-size: 0.875rem; color: var(--sl-color-gray-3); margin-top: 0.5rem;'>
                3,647 tokens vs 66,834
              </div>
            </div>

            <div>
              <div style='font-size: 2.5rem; font-weight: 700; color: var(--sl-color-accent-high); margin-bottom: 0.5rem;'>
                10x
              </div>
              <div style='color: var(--sl-color-gray-2);'>
                Cost Reduction
              </div>
              <div style='font-size: 0.875rem; color: var(--sl-color-gray-3); margin-top: 0.5rem;'>
                $0.01 vs $0.11/session
              </div>
            </div>

            <div>
              <div style='font-size: 2.5rem; font-weight: 700; color: var(--sl-color-accent-high); margin-bottom: 0.5rem;'>
                80%
              </div>
              <div style='color: var(--sl-color-gray-2);'>
                Fewer Violations
              </div>
              <div style='font-size: 0.875rem; color: var(--sl-color-gray-3); margin-top: 0.5rem;'>
                Guardian catches drift
              </div>
            </div>
          </div>

          <div style='margin-top: 2rem; padding-top: 2rem; border-top: 1px solid var(--glass-border);'>
            <p style='text-align: center; color: var(--sl-color-gray-3); font-size: 0.875rem;'>
              <strong>How?</strong> HOT/WARM/COLD tier system ensures AI agents only read what matters.
            </p>
          </div>
        </div>
      </GlassPanel>
    </section>

    {/* Quick Installation */}
    <section class='content-section'>
      <h2>Quick Installation</h2>
      <p style='margin-bottom: 1rem; color: var(--sl-color-gray-2);'>Install globally:</p>
      <div class='code-block-wrapper'>
        <div class='code-block'>
          <button class='copy-code-btn' title='Copy to clipboard'>
            <svg width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'>
              <rect x='9' y='9' width='13' height='13' rx='2' ry='2'></rect>
              <path d='M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1'></path>
            </svg>
          </button>
          <pre><code>npm install -g cortex-tms@2.7.0</code></pre>
        </div>
      </div>
      <p style='margin: 1.5rem 0 1rem; color: var(--sl-color-gray-2);'>Or use with npx (no installation required):</p>
      <div class='code-block-wrapper'>
        <div class='code-block'>
          <button class='copy-code-btn' title='Copy to clipboard'>
            <svg width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'>
              <rect x='9' y='9' width='13' height='13' rx='2' ry='2'></rect>
              <path d='M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1'></path>
            </svg>
          </button>
          <pre><code>npx cortex-tms@2.7.0 init</code></pre>
        </div>
      </div>
    </section>

    {/* Key Features */}
    <section class='content-section'>
      <h2>How It Works</h2>
      <div class='glass-grid'>
        <GlassPanel
          variant='bordered'
          tilt='full'
        >
          <div style='padding: 2rem;'>
            <h3 style='margin-bottom: 1rem; color: var(--sl-color-accent);'>
              <span style='font-size: 2rem; margin-right: 0.5rem;'>üî•</span>
              HOT/WARM/COLD Tiering
            </h3>
            <p style='line-height: 1.6; color: var(--sl-color-gray-2);'>
              Intelligent context management ensures AI only reads what matters.
              <strong>HOT</strong> files (current sprint) are always read,
              <strong>WARM</strong> files (architecture) are on-demand, and
              <strong>COLD</strong> files (archives) are ignored‚Äîachieving 94.5% context reduction.
            </p>
          </div>
        </GlassPanel>

        <GlassPanel
          variant='bordered'
          tilt='full'
        >
          <div style='padding: 2rem;'>
            <h3 style='margin-bottom: 1rem; color: var(--sl-color-accent);'>
              <span style='font-size: 2rem; margin-right: 0.5rem;'>üõ°Ô∏è</span>
              Guardian Validation
            </h3>
            <p style='line-height: 1.6; color: var(--sl-color-gray-2);'>
              AI-powered semantic validation against PATTERNS.md and DOMAIN-LOGIC.md.
              Guardian catches pattern drift that grep and regex miss, achieving
              80% fewer violations and zero false negatives.
            </p>
          </div>
        </GlassPanel>

        <GlassPanel
          variant='bordered'
          tilt='full'
        >
          <div style='padding: 2rem;'>
            <h3 style='margin-bottom: 1rem; color: var(--sl-color-accent);'>
              <span style='font-size: 2rem; margin-right: 0.5rem;'>üìä</span>
              Token Counter
            </h3>
            <p style='line-height: 1.6; color: var(--sl-color-gray-2);'>
              Real-time token analysis shows your exact savings with
              multi-model cost comparison (Claude, GPT-4, and more).
              Track your carbon footprint reduction and prove ROI to stakeholders.
            </p>
          </div>
        </GlassPanel>

        <GlassPanel
          variant='bordered'
          tilt='full'
        >
          <div style='padding: 2rem;'>
            <h3 style='margin-bottom: 1rem; color: var(--sl-color-accent);'>
              <span style='font-size: 2rem; margin-right: 0.5rem;'>üìù</span>
              Essential 7 Prompts
            </h3>
            <p style='line-height: 1.6; color: var(--sl-color-gray-2);'>
              Project-aware AI prompts guide you through the entire development
              lifecycle‚Äîfrom init-session to feature implementation to code review.
              One command copies the right prompt to your clipboard.
            </p>
          </div>
        </GlassPanel>

        <GlassPanel
          variant='bordered'
          tilt='full'
        >
          <div style='padding: 2rem;'>
            <h3 style='margin-bottom: 1rem; color: var(--sl-color-accent);'>
              <span style='font-size: 2rem; margin-right: 0.5rem;'>üîë</span>
              BYOK (Bring Your Own Key)
            </h3>
            <p style='line-height: 1.6; color: var(--sl-color-gray-2);'>
              Guardian uses your OpenAI or Anthropic API key‚Äîfull privacy and
              control. No data leaves your machine except API calls you authorize.
              Compatible with Claude and GPT-4 models.
            </p>
          </div>
        </GlassPanel>

        <GlassPanel
          variant='bordered'
          tilt='full'
        >
          <div style='padding: 2rem;'>
            <h3 style='margin-bottom: 1rem; color: var(--sl-color-accent);'>
              <span style='font-size: 2rem; margin-right: 0.5rem;'>‚ö°</span>
              &lt; 3 File Reads
            </h3>
            <p style='line-height: 1.6; color: var(--sl-color-gray-2);'>
              Our validation test: "Can an AI agent find what it needs in under
              3 file reads?" The answer is yes‚ÄîHOT files give instant context,
              WARM files provide architectural truth on-demand.
            </p>
          </div>
        </GlassPanel>
      </div>
    </section>

    {/* Getting Started Steps */}
    <section class='content-section'>
      <h2>Get Started in 3 Steps</h2>
      <div class='glass-grid'>
        <GlassPanel variant='bordered'>
          <div style='padding: 2rem;'>
            <h3 style='color: var(--sl-color-accent); margin-bottom: 1rem;'>
              <span style='font-size: 1.5rem; margin-right: 0.5rem;'>1</span>
              Initialize
            </h3>
            <p style='line-height: 1.6; color: var(--sl-color-gray-2);'>
              Run <code>cortex-tms init</code> to scaffold the entire structure‚Äîtask
              management, patterns, and AI-optimized documentation. Everything is
              preconfigured with best practices.
            </p>
          </div>
        </GlassPanel>

        <GlassPanel variant='bordered'>
          <div style='padding: 2rem;'>
            <h3 style='color: var(--sl-color-accent); margin-bottom: 1rem;'>
              <span style='font-size: 1.5rem; margin-right: 0.5rem;'>2</span>
              Work with AI
            </h3>
            <p style='line-height: 1.6; color: var(--sl-color-gray-2);'>
              AI agents automatically read your HOT files and follow established
              patterns. Save 94.5% on tokens while preventing hallucinations and
              pattern drift.
            </p>
          </div>
        </GlassPanel>

        <GlassPanel variant='bordered'>
          <div style='padding: 2rem;'>
            <h3 style='color: var(--sl-color-accent); margin-bottom: 1rem;'>
              <span style='font-size: 1.5rem; margin-right: 0.5rem;'>3</span>
              Track Savings
            </h3>
            <p style='line-height: 1.6; color: var(--sl-color-gray-2);'>
              Run <code>cortex-tms status --tokens</code> to see your exact cost
              savings and carbon footprint reduction. Prove ROI with real numbers.
            </p>
          </div>
        </GlassPanel>
      </div>
    </section>

    {/* Ready to Get Started */}
    <section class='content-section cta-section'>
      <h2>Ready to Get Started?</h2>
      <p>
        Install Cortex TMS and scaffold your first project in under 5 minutes.
        Join the growing community of teams using AI-optimized documentation.
      </p>
      <div class='cta-actions'>
        <GlassButton
          variant='neon'
          href='/getting-started/quick-start/'
        >
          Quick Start Guide ‚Üí
        </GlassButton>
        <GlassButton
          variant='prism'
          href='/getting-started/installation/'
        >
          Installation Guide
        </GlassButton>
      </div>
    </section>
  </div>

  <style>
    .homepage-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem 1rem;
      position: relative;
      z-index: 1;
    }

    /* Hero Section */
    .hero-section {
      text-align: center;
      padding: 4rem 0 6rem;
    }

    .hero-title {
      font-size: clamp(3rem, 8vw, 5rem);
      font-weight: 700;
      margin: 0 0 0.5rem 0;
      background: linear-gradient(
        135deg,
        var(--sl-color-white),
        var(--sl-color-accent-high)
      );
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .hero-subtitle {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--sl-color-accent);
      margin: 0 0 1.5rem 0;
    }

    .hero-tagline {
      font-size: 1.5rem;
      line-height: 1.6;
      color: var(--sl-color-gray-1);
      font-weight: 600;
      max-width: 800px;
      margin: 0 auto 1rem;
    }

    .hero-description {
      font-size: 1.125rem;
      line-height: 1.6;
      color: var(--sl-color-gray-2);
      max-width: 800px;
      margin: 0 auto 2.5rem;
    }

    .hero-actions {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    /* Content Sections */
    .content-section {
      margin-bottom: 5rem;
    }

    .content-section h2 {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 2rem;
      color: var(--sl-color-text);
    }

    .content-section p {
      font-size: 1.125rem;
      line-height: 1.75;
      color: var(--sl-color-gray-2);
      margin-bottom: 1.5rem;
    }

    /* Pillars Grid */
    .pillars-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-bottom: 3rem;
    }

    /* Proof Section */
    .proof-section {
      background: linear-gradient(
        135deg,
        rgba(var(--sl-color-accent-rgb), 0.05),
        rgba(var(--sl-color-accent-rgb), 0.02)
      );
      padding: 3rem 2rem;
      border-radius: 24px;
      border: 1px solid var(--glass-border);
    }

    /* Code block with glass styling */
    .code-block-wrapper {
      margin: 2rem 0;
    }

    .code-block {
      position: relative;
      background: var(--glass-surface);
      backdrop-filter: blur(var(--glass-blur));
      -webkit-backdrop-filter: blur(var(--glass-blur));
      border: 1px solid var(--glass-border);
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
    }

    .code-block pre {
      background: transparent;
      border: none;
      border-radius: 0;
      padding: 1.5rem;
      overflow-x: auto;
      margin: 0;
      color: var(--sl-color-text);
    }

    .code-block code {
      font-family: var(--sl-font-mono);
      font-size: 0.9em;
      color: var(--sl-color-accent-high);
    }

    .copy-code-btn {
      position: absolute;
      top: 0.75rem;
      right: 0.75rem;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--glass-border);
      border-radius: 8px;
      padding: 0.5rem;
      cursor: pointer;
      color: var(--sl-color-text);
      transition: all 0.2s var(--ease-smooth);
      z-index: 10;
    }

    .copy-code-btn:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: var(--sl-color-accent);
    }

    .copy-code-btn.copied {
      background: rgba(16, 185, 129, 0.2);
      border-color: #10b981;
      color: #10b981;
    }

    :root[data-theme='light'] .code-block {
      background: rgba(255, 255, 255, 0.6);
      border-color: rgba(0, 0, 0, 0.1);
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.1);
    }

    :root[data-theme='light'] .copy-code-btn {
      background: rgba(0, 0, 0, 0.05);
    }

    :root[data-theme='light'] .copy-code-btn:hover {
      background: rgba(0, 0, 0, 0.1);
    }

    /* CTA Section */
    .cta-section {
      text-align: center;
      padding: 3rem 0;
    }

    .cta-actions {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 2rem;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .hero-section {
        padding: 2rem 0 3rem;
      }

      .hero-title {
        font-size: 2.5rem;
      }

      .hero-subtitle {
        font-size: 1.25rem;
      }

      .hero-tagline {
        font-size: 1.125rem;
      }

      .hero-description {
        font-size: 1rem;
      }

      .content-section h2 {
        font-size: 2rem;
      }

      .content-section p {
        font-size: 1rem;
      }

      .pillars-grid {
        grid-template-columns: 1fr;
      }

      .proof-section {
        padding: 2rem 1rem;
      }
    }
  </style>

  <script>
    // Copy to clipboard functionality for all code blocks
    document.addEventListener('DOMContentLoaded', () => {
      const codeBlocks = document.querySelectorAll('.code-block');

      codeBlocks.forEach((block) => {
        const copyBtn = block.querySelector('.copy-code-btn');
        const code = block.querySelector('pre code');

        if (copyBtn && code) {
          copyBtn.addEventListener('click', async () => {
            try {
              await navigator.clipboard.writeText(code.textContent || '');
              
              // Visual feedback
              copyBtn.classList.add('copied');
              copyBtn.title = 'Copied!';
              
              // Reset after 2 seconds
              setTimeout(() => {
                copyBtn.classList.remove('copied');
                copyBtn.title = 'Copy to clipboard';
              }, 2000);
            } catch (err) {
              console.error('Failed to copy:', err);
            }
          });
        }
      });
    });
  </script>
</SimpleLayout>
